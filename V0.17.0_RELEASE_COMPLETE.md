# v0.17.0 Release Complete

**Date:** 2025-11-11
**Status:** âœ… RELEASED

---

## Release Information

**GitHub Release:** https://github.com/AEtherlight-ai/lumina/releases/tag/v0.17.0

**Version:** 0.17.0 (all packages synced)
- `aetherlight` (VS Code extension)
- `aetherlight-sdk`
- `aetherlight-analyzer`
- `aetherlight-node`
- `lumina-desktop`

**Git Tag:** v0.17.0 (commit 88dbbba)

**Release Assets:**
- âœ… `aetherlight-0.17.0.vsix` (19 MB) - VS Code extension package

---

## Sprint 4 Completion Status

**Total Tasks:** 43
**Completed:** 31 (72%)
**Deferred:** 10 (23%) - Post-release testing
**Pending:** 0

**All Release-Blocking Tasks Complete:**
- âœ… PUB-001: Version bump (all 5 packages â†’ 0.17.0)
- âœ… PUB-004: GitHub release created with VSIX attached
- âœ… PUB-005: Website deployed to production (aetherlight.ai)

**Deferred to Post-Release:**
- TEST-002: Automated API tests (2 hours)
- QA-001: Ripple analysis (1 hour)
- QA-002: Test coverage audit (1 hour)
- QA-004: Cross-platform testing (2 hours)
- PERF-001: Performance regression (1 hour)
- SEC-001: Security vulnerability scan (30 min)
- COMPAT-001: Cross-platform testing (duplicate of QA-004)
- SELF-022 through SELF-025: Sprint 3 deferred tests
- RETRO-001, RETRO-002: Sprint retrospectives

**Why Deferred:** Bootstrapping constraint - cannot thoroughly test extension while using it for development

---

## Key Features Released

### Server-Side OpenAI Key Management (Pattern-MONETIZATION-001)
- **Token-based pricing**: 375 tokens = 1 minute of transcription
  - Free tier: 250,000 tokens (~666 minutes one-time)
  - Pro tier: 1,000,000 tokens/month ($29.99/month)
  - Token purchase: 1,000,000 tokens ($24.99 one-time, never expires)

### Desktop App Token Integration
- Token balance display with real-time updates
- Pre-flight checks (requires 375 tokens minimum to record)
- Server-driven warning system (80%, 90%, 95% thresholds)
- License key activation wizard (Step 3 in InstallationWizard)

### API Endpoints (Production)
- `GET /api/tokens/balance` - Check token balance with warnings array
- `POST /api/desktop/transcribe` - Server-proxied Whisper transcription
- `POST /api/tokens/consume` - Manual token deduction
- `POST /api/stripe/create-checkout` - Stripe Checkout Session
- `POST /api/webhooks/stripe` - Stripe webhook fulfillment
- Production URL: https://aetherlight-aelors-projects.vercel.app

### Monthly Token Refresh Automation
- Vercel cron job (runs 1st of each month at 00:00 UTC)
- Endpoint: `/api/cron/refresh-tokens`
- Automatic 1M token refresh for Pro users
- Files: `website/vercel.json`, `website/app/api/cron/refresh-tokens/route.ts`

---

## Breaking Changes

- **Extension v0.17.0 requires desktop app v0.17.0** (both must be upgraded together)
- **BYOK (Bring Your Own Key) model removed** - users cannot provide their own OpenAI API keys
- **OpenAI API key settings no longer functional** - all transcription goes through server
- **License key required** for voice transcription

---

## Migration Guide

See [MIGRATION_GUIDE.md](https://github.com/AEtherlight-ai/lumina/blob/master/MIGRATION_GUIDE.md)

**Steps for Users:**
1. Update extension to v0.17.0
2. Update desktop app to v0.17.0
3. Sign up at https://aetherlight.dev/signup
4. Get license key from dashboard
5. Enter key in desktop app installation wizard (Step 3)
6. Start recording - transcription now works through server!

---

## Test Credentials (Production)

- **Free tier:** `CD7W-AJDK-RLQT-LUFA` (250,000 tokens)
- **Pro tier:** `W7HD-X79Q-CQJ9-XW13` (1,000,000 tokens/month)

---

## Documentation Created

**Total Documentation:** 1,793 lines

### Pattern Documentation
- **Pattern-MONETIZATION-001.md** (568 lines) - Server-side key management architecture
  - Problem statement, solution overview, architecture diagrams
  - Database schema, API endpoints, token pricing model
  - Warning system, code examples, security considerations
  - Future roadmap (Phases 1-4: team billing, analytics, enterprise)

### Migration & Release Docs
- **MIGRATION_GUIDE.md** (320 lines) - Upgrading from BYOK to server-managed keys
- **CHANGELOG.md v0.17.0 section** (145 lines) - Comprehensive release notes
- **API_ENDPOINTS_v0.17.0.md** (265 lines) - API documentation

### Testing Documentation
- **SPRINT_4_MANUAL_TEST_PLAN.md** (629 lines) - 29 test cases across 7 phases
- **PRE_PUBLISH_VALIDATION_v0.17.0.md** (168 lines) - Pre-release checklist (8/10 passed)

### Agent Context Updates
- **infrastructure-agent-context.md** (updated) - Database migrations, API endpoints
- **api-agent-context.md** (updated) - Token balance API, transcription proxy
- **ui-agent-context.md** (updated) - Desktop app token UI, warnings

---

## Files Modified

**Commit 88dbbba (v0.17.0):**
- 77 files changed
- 25,514 insertions
- 2,129 deletions

**Key Files:**
- `products/lumina-desktop/src-tauri/src/transcription.rs` - Token balance checking, server proxy
- `products/lumina-desktop/src/components/InstallationWizard.tsx` - License key activation
- `products/lumina-desktop/src/components/VoiceCapture.tsx` - Token balance UI, warnings
- `vscode-lumina/package.json` - Deprecated OpenAI settings
- `vscode-lumina/src/commands/voicePanel.ts` - BYOK removal
- `supabase/migrations/20251018000007_credit_system.sql` - Credit tracking schema

---

## Git Workflow

**Commits Pushed:**
- `88dbbba` - feat(Sprint 4): Release v0.17.0 - Key Authorization & Monetization
- `6d39c0d` - docs(Sprint 4): Complete pre-release sprint cleanup and status documentation

**Branch:** master (all work merged)

**Tag:** v0.17.0 pushed to origin

**Feature Branch:** feature/key-authorization (merged and deleted)

---

## Distribution

### GitHub Release
- âœ… Release created: v0.17.0
- âœ… VSIX attached: aetherlight-0.17.0.vsix (19 MB)
- âœ… Release notes published with migration guide link
- âœ… URL: https://github.com/AEtherlight-ai/lumina/releases/tag/v0.17.0

### npm Publishing
- âŒ **NOT published to npm** (user decision - not doing marketplace publishing for this release)
- Extension distributed via GitHub releases only for v0.17.0

### VS Code Marketplace
- âŒ **NOT published to VS Code Marketplace** (PUB-003 skipped per user directive)

---

## Post-Release Testing Plan

**Manual Testing Document:** SPRINT_4_MANUAL_TEST_PLAN.md (629 lines)

**Test Coverage:**
- Phase 1: API Tests (4 tests) - 2 passed, 2 require valid license key
- Phase 2: Desktop App Tests (7 tests) - Pending (require running desktop app)
- Phase 3: Extension Tests (3 tests) - 1 passed (compilation), 2 pending
- Phase 4: E2E Tests (3 tests) - Pending (require full system)
- Phase 5: Error Handling (3 tests) - Pending
- Phase 6: Performance (3 tests) - Pending
- Phase 7: Regression (2 tests) - 1 passed (desktop compiles), 1 pending

**Total:** 29 tests, 4 passed (14%), 25 pending

**Post-Release Steps:**
1. Install published extension (from GitHub release)
2. Install desktop app v0.17.0
3. Execute all 25 pending tests
4. Document results in TEST_RESULTS_v0.17.0.md
5. Create hotfix release v0.17.1 if critical issues found

---

## Known Issues

### Windows Path Spaces Bug
- **Issue:** VS Code test runner fails with paths containing spaces
- **File:** KNOWN_TEST_ISSUE_WINDOWS_SPACES.md
- **Workaround:** Manual testing until resolved

### Desktop App Warnings
- **29 warnings** in Rust compilation (0 errors)
- Non-blocking, mostly unused variables and imports
- Can be addressed in future cleanup sprint

---

## Success Metrics

âœ… **Code Complete:**
- Phase 1 (Backend/API): 100%
- Phase 2 (Desktop): 100%
- Phase 3 (Extension): 100%
- Phase 4 (Website): 100%
- Phase 6 (Documentation): 100%

âœ… **All APIs Deployed:** https://aetherlight-aelors-projects.vercel.app

âœ… **Website Live:** https://aetherlight.ai

âœ… **GitHub Release:** https://github.com/AEtherlight-ai/lumina/releases/tag/v0.17.0

âœ… **VSIX Packaged:** 19 MB, 4,727 files

âœ… **Documentation Complete:** 1,793 lines

âœ… **All Commits Pushed:** 2 commits ahead of origin â†’ 0 (pushed)

âœ… **Git Tag Pushed:** v0.17.0 on origin

âœ… **Sprint Directory Clean:** 6 active files, 4 files archived

---

## Next Steps

1. **Post-Release Testing** (2-3 hours):
   - Execute SPRINT_4_MANUAL_TEST_PLAN.md test cases
   - Test on Windows, Mac, Linux
   - Document results

2. **Sprint Retrospectives** (1 hour):
   - RETRO-001: Sprint 4 retrospective
   - RETRO-002: Pattern extraction
   - Update KNOWN_ISSUES.md with lessons learned

3. **Hotfix Planning** (if needed):
   - Address any critical bugs found in testing
   - Version v0.17.1 release

4. **Sprint 3 Deferred Testing** (3-4 hours):
   - SELF-022: Real project tests
   - SELF-023: Performance optimization
   - SELF-024: Documentation
   - SELF-025: Final validation

5. **ONBOARD-001 Continuation** (ongoing):
   - 27 pending tasks for new onboarding wizard
   - Independent from v0.17.0 release

---

## Release Announcement

**GitHub Release URL:** https://github.com/AEtherlight-ai/lumina/releases/tag/v0.17.0

**Installation:**
```bash
# Download VSIX from GitHub release
# Install via VS Code: Extensions â†’ Install from VSIX...
```

**Key Message:**
> v0.17.0 introduces server-side OpenAI key management with token-based pricing. No more BYOK! Sign up at https://aetherlight.dev for free tier (250k tokens) or upgrade to Pro ($29.99/month, 1M tokens).

---

**Release Completed By:** Claude Code
**Approved By:** Brett (User)
**Date:** 2025-11-11

ðŸŽ‰ **v0.17.0 Successfully Released!**
